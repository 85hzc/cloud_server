
function socket_arr_add(socket_arr, socket, id)
{
    console.log("Enter socket_arr_add");
    var i = 0;

    for ( i = 0; i < socket_arr.length; i++)
    {
        if ( id == socket_arr[i].id)
        {
            socket_arr[i] = null;
            socket_arr.splice(i, 1);
            break;
        }
    }

    var socket_arr_obj = new Object();
    socket_arr_obj.socket = socket;
    socket_arr_obj.id     = id;

    socket_arr.push(socket_arr_obj);

    console.log("Exit socket_arr_add");
    return -1;
}

function socket_arr_del(socket_arr, id)
{
    var i = 0;

    console.log("Enter socket_arr_del");


    for ( i = 0; i < socket_arr.length; i++)
    {
        if ( id == socket_arr[i].id)
	{
           // socket_arr[i] = null;
            socket_arr.splice(i, 1);
            return 0;
        }
    }

    console.log("Exit socket_arr_del");
    return -1;
}

function socket_arr_get(socket_array, id)
{
    var i = 0;

    console.log("Enter socket_arr_get");

//    console.log(socket_array);

    for ( i = 0; i < socket_array.length; i++)
    {
        if ( id == socket_array[i].id)
        {
            return socket_array[i].socket;
        }
    }

    console.log("Exit socket_arr_get");

    return -1;
}

module.exports.socket_arr_add = socket_arr_add;
module.exports.socket_arr_del = socket_arr_del;
module.exports.socket_arr_get = socket_arr_get;
